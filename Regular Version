; ------------------------------------------------------------
; CMPR 154 - Spring 2024
; Team Name: Team Doge
; Team Members: Josiah Liao, Ashutosh Bharadwaj, David Calderon, Michael Merrick
; Creation Date: 13 May 2024
; Collaboration: None so far
; ----------------------------------------------------------
INCLUDE Irvine32.inc

.data
; main menu strings
chooseName byte "Welcome! Please enter your name: ", 0
selection byte "Please select one of the following:", 0
choice1 byte "1: Display my available credit", 0
choice2 byte "2: Add credits to my account", 0
choice3 byte "3: Play the guessing game", 0
choice4 byte "4: Display my statistics", 0
choice5 byte "5: Exit game", 0
; choice 1 strings
creditMsg byte "Your available credit balance: ", 0
; choice 2 strings
amountIfCredits byte "How many credits would you like to purchase ($20 or less)? ", 0
purchaseExit byte "Your credits have been added successfully. You will now be redirected to the main screen.", 0
purchaseFailed byte "That is an invalid number of credits. Please try again.", 0
; choice 3 strings
; choice 4 strings
displayGames byte "Games played: ", 0
displayCorrect byte "Your correct guesses: ", 0
displayWrong byte "Your incorrect guesses: ", 0
displayGain byte "Money gained: ", 0
displayLoss byte "Money lost: ", 0
; choice 5 strings
exitMsg byte "Goodbye! Thanks for playing!", 0
; variables
credits word 0
MAX_ALLOWED word equ 20
amount word 0
correctGuesses word 0
missedGuesses word 0
name byte "", 0
choice word 0

.code

main proc
; get name
mov edx, offset chooseName
call writestring
call readstring

; home screen
home:
  call clrscr
  mov edx, offset choice1
  call writestring
  call crlf
  mov edx, offset choice2
  call writestring
  call crlf
  mov edx, offset choice3
  call writestring
  call crlf
  mov edx, offset choice4
  call writestring
  call crlf
  mov edx, offset choice5
  call writestring
  call crlf
  call readint
; validate input: TO-DO
; switch statement
; end of home
  call clrscr

; choice 1
one:
  mov edx, offset creditMsg
  call writestring
  mov eax, credits
  call writeint
  call crlf
  jump home

; choice 2
two:
  mov edx, offset amountIfCredits
  call writestring
  call readint
  mov choice, eax
  ; if > 20 blah blah blah
  add credits, eax
  call clrscr
  mov edx, purchaseExit
  call writestring
  jump home

; choice 3
three:
  ; make the game yay

; choice 4
four:
  ; display stats
  mov edx, offset name
  call writestring
  call crlf
  mov edx, offset creditMsg
  call writestring
  mov eax, credits
  call writeint
  call crlf
  mov edx, offset displayGames
  call writestring
  mov eax, correctGuesses
  add eax, missedGuesses
  call writeint
  call crlf
  mov edx, offset displayCorrect
  call writestring
  mov eax, correctGuesses
  call writeint
  call crlf
  mov edx, offset displayWrong
  call writestring
  mov eax, missedGuesses
  call writeint
  call crlf
  mov edx, offset displayGain
  call writestring
  mov eax, correctGuesses
  call writeint
  call crlf
  mov edx, offset displayLoss
  call writestring
  mov eax, missedGuesses
  call writeint
  call crlf  
  call waitmsg
  jump home

; choice 5
five:
  ; exit game
  mov edx, exitMsg
  call writestring
  call crlf

exit
main endp
end main
